1. 相比于template1中的变化：
    1. template1 使用继承方式扩展功能，为每种流进行了功能扩展。但是加密和缓冲扩展对于每种流来说是相同的代码，这就造成了代码重复，是需要重构的点
    
    2. template2 提供一个扩展功能类，使用组合的方式实现不同的流的功能嵌套。
    
    3. 在加密 和 缓冲中实现Stream又使用了组合：实现Stream接口，是为了实现统一的接口规范，为功能组合提供多态机制。使用组合是为了避免使用继承的造成的代码重复
    
    4. 在重构中，如果多个子类中出现相同的成员，则可以将他们提取出一个抽象